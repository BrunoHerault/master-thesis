<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Master thesis</title>
  <meta name="description" content="Master thesis">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Master thesis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/main.png" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Master thesis" />
  
  
  <meta name="twitter:image" content="images/main.png" />

<meta name="author" content="Sylvain SCHMITT">


<meta name="date" content="2017-06-02">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="trees-choice.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="html/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Master thesis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="resume-et-abstract.html"><a href="resume-et-abstract.html"><i class="fa fa-check"></i>Résumé et Abstract</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="model-description.html"><a href="model-description.html"><i class="fa fa-check"></i><b>1</b> Model description</a><ul>
<li class="chapter" data-level="1.1" data-path="model-description.html"><a href="model-description.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="model-description.html"><a href="model-description.html#leaf-lifespan"><i class="fa fa-check"></i><b>1.2</b> Leaf lifespan</a></li>
<li class="chapter" data-level="1.3" data-path="model-description.html"><a href="model-description.html#disturbance"><i class="fa fa-check"></i><b>1.3</b> Disturbance</a></li>
<li class="chapter" data-level="1.4" data-path="model-description.html"><a href="model-description.html#sylviculture"><i class="fa fa-check"></i><b>1.4</b> Sylviculture</a><ul>
<li class="chapter" data-level="1.4.1" data-path="model-description.html"><a href="model-description.html#designation"><i class="fa fa-check"></i><b>1.4.1</b> Designation</a></li>
<li class="chapter" data-level="1.4.2" data-path="model-description.html"><a href="model-description.html#selection"><i class="fa fa-check"></i><b>1.4.2</b> Selection</a></li>
<li class="chapter" data-level="1.4.3" data-path="model-description.html"><a href="model-description.html#rotten-trees"><i class="fa fa-check"></i><b>1.4.3</b> Rotten trees</a></li>
<li class="chapter" data-level="1.4.4" data-path="model-description.html"><a href="model-description.html#felling"><i class="fa fa-check"></i><b>1.4.4</b> Felling</a></li>
<li class="chapter" data-level="1.4.5" data-path="model-description.html"><a href="model-description.html#tracks"><i class="fa fa-check"></i><b>1.4.5</b> Tracks</a></li>
<li class="chapter" data-level="1.4.6" data-path="model-description.html"><a href="model-description.html#gap-damages"><i class="fa fa-check"></i><b>1.4.6</b> Gap damages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="material-and-methods.html"><a href="material-and-methods.html"><i class="fa fa-check"></i><b>2</b> Material and Methods</a><ul>
<li class="chapter" data-level="2.1" data-path="material-and-methods.html"><a href="material-and-methods.html#sensitivity-analysis"><i class="fa fa-check"></i><b>2.1</b> Sensitivity analysis</a></li>
<li class="chapter" data-level="2.2" data-path="material-and-methods.html"><a href="material-and-methods.html#disturbance-1"><i class="fa fa-check"></i><b>2.2</b> Disturbance</a></li>
<li class="chapter" data-level="2.3" data-path="material-and-methods.html"><a href="material-and-methods.html#selective-logging"><i class="fa fa-check"></i><b>2.3</b> Selective logging</a></li>
<li class="chapter" data-level="2.4" data-path="material-and-methods.html"><a href="material-and-methods.html#design-of-experiment"><i class="fa fa-check"></i><b>2.4</b> Design of experiment</a></li>
<li class="chapter" data-level="2.5" data-path="material-and-methods.html"><a href="material-and-methods.html#ecosystem-answer-anlaysis"><i class="fa fa-check"></i><b>2.5</b> Ecosystem answer anlaysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>3</b> Results</a><ul>
<li class="chapter" data-level="3.1" data-path="results.html"><a href="results.html#sensitivity"><i class="fa fa-check"></i><b>3.1</b> Sensitivity</a></li>
<li class="chapter" data-level="3.2" data-path="results.html"><a href="results.html#disturbance-2"><i class="fa fa-check"></i><b>3.2</b> Disturbance</a></li>
<li class="chapter" data-level="3.3" data-path="results.html"><a href="results.html#sylviculture-1"><i class="fa fa-check"></i><b>3.3</b> Sylviculture</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>4</b> Discussion</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-1.html"><a href="appendix-1.html"><i class="fa fa-check"></i><b>A</b> Appendix 1</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-1.html"><a href="appendix-1.html#abiotic-environment"><i class="fa fa-check"></i><b>A.1</b> Abiotic environment</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-1.html"><a href="appendix-1.html#photosynthesis"><i class="fa fa-check"></i><b>A.2</b> Photosynthesis</a><ul>
<li class="chapter" data-level="A.2.1" data-path="appendix-1.html"><a href="appendix-1.html#theory"><i class="fa fa-check"></i><b>A.2.1</b> Theory</a></li>
<li class="chapter" data-level="A.2.2" data-path="appendix-1.html"><a href="appendix-1.html#parametrization"><i class="fa fa-check"></i><b>A.2.2</b> Parametrization</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="appendix-1.html"><a href="appendix-1.html#autotrophic-respiration"><i class="fa fa-check"></i><b>A.3</b> Autotrophic respiration</a></li>
<li class="chapter" data-level="A.4" data-path="appendix-1.html"><a href="appendix-1.html#net-carbon-uptake"><i class="fa fa-check"></i><b>A.4</b> Net carbon uptake</a></li>
<li class="chapter" data-level="A.5" data-path="appendix-1.html"><a href="appendix-1.html#leaf-lifespan-1"><i class="fa fa-check"></i><b>A.5</b> Leaf lifespan</a></li>
<li class="chapter" data-level="A.6" data-path="appendix-1.html"><a href="appendix-1.html#tree-growth"><i class="fa fa-check"></i><b>A.6</b> Tree growth</a></li>
<li class="chapter" data-level="A.7" data-path="appendix-1.html"><a href="appendix-1.html#mortality"><i class="fa fa-check"></i><b>A.7</b> Mortality</a></li>
<li class="chapter" data-level="A.8" data-path="appendix-1.html"><a href="appendix-1.html#recruitment"><i class="fa fa-check"></i><b>A.8</b> Recruitment</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-2.html"><a href="appendix-2.html"><i class="fa fa-check"></i><b>B</b> Appendix 2</a></li>
<li class="chapter" data-level="C" data-path="trees-choice.html"><a href="trees-choice.html"><i class="fa fa-check"></i><b>C</b> Trees choice</a><ul>
<li class="chapter" data-level="C.1" data-path="trees-choice.html"><a href="trees-choice.html#harvestable-areas"><i class="fa fa-check"></i><b>C.1</b> Harvestable areas</a><ul>
<li class="chapter" data-level="C.1.1" data-path="trees-choice.html"><a href="trees-choice.html#reality"><i class="fa fa-check"></i><b>C.1.1</b> Reality</a></li>
<li class="chapter" data-level="C.1.2" data-path="trees-choice.html"><a href="trees-choice.html#model"><i class="fa fa-check"></i><b>C.1.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="trees-choice.html"><a href="trees-choice.html#designation-1"><i class="fa fa-check"></i><b>C.2</b> Designation</a><ul>
<li class="chapter" data-level="C.2.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-1"><i class="fa fa-check"></i><b>C.2.1</b> Reality</a></li>
<li class="chapter" data-level="C.2.2" data-path="trees-choice.html"><a href="trees-choice.html#model-1"><i class="fa fa-check"></i><b>C.2.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="trees-choice.html"><a href="trees-choice.html#selection-1"><i class="fa fa-check"></i><b>C.3</b> Selection</a><ul>
<li class="chapter" data-level="C.3.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-2"><i class="fa fa-check"></i><b>C.3.1</b> Reality</a></li>
<li class="chapter" data-level="C.3.2" data-path="trees-choice.html"><a href="trees-choice.html#model-2"><i class="fa fa-check"></i><b>C.3.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="trees-choice.html"><a href="trees-choice.html#rotten"><i class="fa fa-check"></i><b>C.4</b> Rotten</a><ul>
<li class="chapter" data-level="C.4.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-3"><i class="fa fa-check"></i><b>C.4.1</b> Reality</a></li>
<li class="chapter" data-level="C.4.2" data-path="trees-choice.html"><a href="trees-choice.html#model-3"><i class="fa fa-check"></i><b>C.4.2</b> Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="harvesting.html"><a href="harvesting.html"><i class="fa fa-check"></i><b>D</b> Harvesting</a><ul>
<li class="chapter" data-level="D.1" data-path="harvesting.html"><a href="harvesting.html#felling-1"><i class="fa fa-check"></i><b>D.1</b> Felling</a><ul>
<li class="chapter" data-level="D.1.1" data-path="harvesting.html"><a href="harvesting.html#reality-4"><i class="fa fa-check"></i><b>D.1.1</b> Reality</a></li>
<li class="chapter" data-level="D.1.2" data-path="harvesting.html"><a href="harvesting.html#model-4"><i class="fa fa-check"></i><b>D.1.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="harvesting.html"><a href="harvesting.html#main-track"><i class="fa fa-check"></i><b>D.2</b> Main track</a><ul>
<li class="chapter" data-level="D.2.1" data-path="harvesting.html"><a href="harvesting.html#reality-5"><i class="fa fa-check"></i><b>D.2.1</b> Reality</a></li>
<li class="chapter" data-level="D.2.2" data-path="harvesting.html"><a href="harvesting.html#model-5"><i class="fa fa-check"></i><b>D.2.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="harvesting.html"><a href="harvesting.html#secondary-tracks-cloisonnement"><i class="fa fa-check"></i><b>D.3</b> Secondary tracks (cloisonnement)</a><ul>
<li class="chapter" data-level="D.3.1" data-path="harvesting.html"><a href="harvesting.html#reality-6"><i class="fa fa-check"></i><b>D.3.1</b> Reality</a></li>
<li class="chapter" data-level="D.3.2" data-path="harvesting.html"><a href="harvesting.html#model-6"><i class="fa fa-check"></i><b>D.3.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="harvesting.html"><a href="harvesting.html#other-damages"><i class="fa fa-check"></i><b>D.4</b> Other damages</a><ul>
<li class="chapter" data-level="D.4.1" data-path="harvesting.html"><a href="harvesting.html#reality-7"><i class="fa fa-check"></i><b>D.4.1</b> Reality</a></li>
<li class="chapter" data-level="D.4.2" data-path="harvesting.html"><a href="harvesting.html#modelling"><i class="fa fa-check"></i><b>D.4.2</b> Modelling</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="harvesting.html"><a href="harvesting.html#perspectives"><i class="fa fa-check"></i><b>D.5</b> Perspectives</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/sylvainschmitt/master-thesis" target="blank">work in progress</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Master thesis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="harvesting" class="section level1">
<h1><span class="header-section-number">D</span> Harvesting</h1>
<p>Once designated we can proceed to logging and associated damages.</p>
<div id="felling-1" class="section level2">
<h2><span class="header-section-number">D.1</span> Felling</h2>
<div id="reality-4" class="section level3">
<h3><span class="header-section-number">D.1.1</span> Reality</h3>
<p>Main issue around the logging will be treefall direction. Due to crown aspects treefall is often considered as random. Whereas difficult to manage, treefall can still be oriented. In fact 4 orientations are available for treefall when logging (see figure 1). Oriented treefall idea is to get logs oriented at 45° two skidding ways to reduce damages when skidding. Currently few harvesters are applying this practice which is to be developed.</p>
<div class="figure">
<img src="treefall.png" alt="Figure 1. Treefall orientations when logging" />
<p class="caption">Figure 1. Treefall orientations when logging</p>
</div>
</div>
<div id="model-4" class="section level3">
<h3><span class="header-section-number">D.1.2</span> Model</h3>
<p>Whereas interessant to test, due to the fact it is not much applied in french guiana, I think we should not model oriented logging for the moment. We should consider logging treefall as random like current treefall implementation inside TROLL (see code 5).</p>
<pre class="rcpp"><code>void Fell() {

    int site, row, col, felled=0;
    float volume=0.0;

    /* fell the selected tree not rotten */
    for(site=0;site&lt;sites;site++){
        if(Tlogging[0][site]==1){
            row = floor(site/cols);
            col = site-(row*cols);
            volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
            output[36] &lt;&lt; &quot;L&quot; &lt;&lt; &quot;\t&quot; &lt;&lt; col &lt;&lt; &quot;\t&quot; &lt;&lt; row &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_age &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_dbh &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Tree_Height &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Radius &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Depth &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_sp_lab &lt;&lt; endl;
            T[site].FellTree();
            felled ++;
        }
    } 
    cout &lt;&lt; felled &lt;&lt; &quot; trees have been felled representing &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
}</code></pre>
<p>Code 5: Felling module.</p>
<p>We added a specific felling function (in which we could implement in future versions oriented logging) to simulate felling in the module loop (see code 6).</p>
<pre class="rcpp"><code>void Tree::FellTree() {
  
  float t_angle = float(twoPi*genrand2()); // random angle
  float h_true = t_Tree_Height*LV;
  int xx, yy, row0, col0, r_int, h_int=int(h_true*NH);    
  
  if(t_dbh*LH&gt;0.1) nbTreefall10++;
  Thurt[0][t_site+sites] = int(t_Tree_Height); // Thurt[0] saves the integer tree height, here exactly at the place where the tree fell...
  Tlogging[2][t_site] = 1;
  row0=t_site/cols;       /* fallen stem destructs other trees */
    col0=t_site%cols;
    for(int h=1;h&lt;h_int;h++) { // loop on the fallen stem (horizontally)
      xx=int(flor(col0+h*cos(t_angle))); // get projection in col (= xx) direction, where xx is absolute location
      if(xx&lt;cols){
        yy=int(row0+h*sin(t_angle)); // get projection in row (= yy) direction, where yy is absolute location
        Thurt[0][xx+(yy+rows)*cols] = int(t_Tree_Height); // Thurt[0] where the stem fell, calculation: xx+(yy+rows)*cols= xx + yy*cols + rows*cols = xx + yy*cols + sites
        if(xx&lt;cols &amp;&amp; yy&lt;rows) Tlogging[2][xx+yy*cols] = 1; // Tfell[0] is used to represent gaps for gaps damages modelling
      }
    }
    xx=col0+int((h_true*NH-t_Crown_Radius)*cos(t_angle)); // where crown ends/starts fallen crown destructs other trees */
    yy=row0+int((h_true*NH-t_Crown_Radius)*sin(t_angle));
    r_int = int(t_Crown_Radius);
    for(int col=max(0,xx-r_int);col&lt;min(cols,xx+r_int+1);col++) { /* loop on the fallen crown (horizontally) */
    for(int row=yy-r_int;row&lt;yy+r_int+1;row++) {
      if((col-xx)*(col-xx)+(row-yy)*(row-yy)&lt;r_int*r_int) {
        Thurt[0][col+(row+rows)*cols] = int((t_Tree_Height-t_Crown_Radius*NV*LH)*0.5);
        if(xx&lt;cols &amp;&amp; yy&lt;rows) Tlogging[2][xx+yy*cols] = 1;
      }
    }
    }
    Death();
}</code></pre>
<p>Code 6: Felling module.</p>
</div>
</div>
<div id="main-track" class="section level2">
<h2><span class="header-section-number">D.2</span> Main track</h2>
<div id="reality-5" class="section level3">
<h3><span class="header-section-number">D.2.1</span> Reality</h3>
<p>Roads are split in three classes: truck roads, main tractor track, and secondary track (‘cloisonement’). Main skidtrails are used by skidding engines and follow crest model ; a function can calculate in advance their volume of transit by summing all pixels they serve and assuming 20 <span class="math inline">\(m^3.ha^{-1}\)</span>.</p>
</div>
<div id="model-5" class="section level3">
<h3><span class="header-section-number">D.2.2</span> Model</h3>
<p>One more time, one major assumption of TROLL is a flat environment. Consequently the main track can be considered as a way starting from the middle of one side of the simulated forest and reaching the center (see code 7).</p>
<pre class="rcpp"><code>void MainTracks() {

    int site, row, col, individuals=0;
    float volume=0.0;
           
    for(row=0;row&lt;(rows/2);row++){
        for(col=((cols/2)-3);col&lt;((cols/2)+3);col++){
            site = col+row*cols;
            Tlogging[1][site] = 1;
            if(T[site].t_age != 0) {
                volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
                output[36] &lt;&lt; &quot;MT&quot; &lt;&lt; &quot;\t&quot; &lt;&lt; col &lt;&lt; &quot;\t&quot; &lt;&lt; row &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_age &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_dbh &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Tree_Height &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Radius &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Depth &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_sp_lab &lt;&lt; endl;
                T[site].Death();
                individuals++;
            }
        }
    }    
    cout &lt;&lt; individuals &lt;&lt; &quot; trees have been killed for the main track representing &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
}</code></pre>
<p>Code 7: Main track module.</p>
</div>
</div>
<div id="secondary-tracks-cloisonnement" class="section level2">
<h2><span class="header-section-number">D.3</span> Secondary tracks (cloisonnement)</h2>
<div id="reality-6" class="section level3">
<h3><span class="header-section-number">D.3.1</span> Reality</h3>
<p>Secondary tracks are computed once trees have been designated and the geolocation taken. Secondary track are all at a maximum distance of 30 meters from designated trees (because engine cables reach 50 meters but with an angle of 45°). Last thing taken into account is secondary track slope between track border (‘devers’) ; it need to be under 4%. Secondary tracks draw is half automatic but currently user is drawing the final pattern.</p>
</div>
<div id="model-6" class="section level3">
<h3><span class="header-section-number">D.3.2</span> Model</h3>
<p>To not over-complicate the model we decided to simulate secondary tracks with few simple rules for a full automatic integration. It will not correspond to reality but because secondary tracks draw is a vast question (e.g. piste 2 and 3 softwares), it will answer or needs. The secondary tracks module compute the following algorithm (see code 8 and figure 2):</p>
<ul>
<li>Calculate a loads map measuring every trees at a distance of 30 meters for each pixel</li>
<li>Calculate a track proximity maps of the closest existing track</li>
<li>Select the pixel with the highest load and closest track</li>
<li>Find the closest existing track and join it</li>
<li>Trace the secondary track removing from list all felt trees in a radius of 30 meters from the track</li>
<li>Repeat operations untill no felt trees are left</li>
</ul>
<pre class="rcpp"><code>void SecondaryTracks() {

        int load[sites], tracks[sites], individuals=0, felt=0;
        int site, col, row, site0, row0, col0, siteT, rowT, colT;
        float d, d0, volume=0.0;

        /* Counting number of felt trees to skid */
        for(site=0;site&lt;sites;site++) felt += Tlogging[0][site];
        
        while(felt &gt; 0){

            /*Computing loadings and tracks distance for each tree*/
            for(site0=0;site0&lt;sites;site0++){ 
                load[site0]=0;
                tracks[site0]=rows*rows + cols*cols;
                row0 = floor(site0/cols);
                col0 = site0-(row0*cols);
                for(site=0;site&lt;sites;site++){
                    if(Tlogging[0][site]==1 || Tlogging[1][site]==1){ // compute distance if the site is a felt tree or a track
                        row = floor(site/cols);
                        col = site-(row*cols);
                        d = (row - row0)*(row - row0) + (col - col0)*(col - col0);
                        if(Tlogging[0][site]==1 &amp;&amp; d &lt;= (30*30)) // site can evacuate the tree if is at a distance smaller than 30 meters
                            load[site0]++;
                        if(Tlogging[1][site]==1 &amp;&amp; d &lt; tracks[site0]) // save the track distance if it&#39;s closest than the previously saved one
                            tracks[site0]=d;
                    }
                }
            }

            /*Seeking the best place to start the secondary track*/
            site0=0;
            for(site=0;site&lt;sites;site++){
                if(load[site]&gt;load[site0]) // best candidate is the one which can evacuate maximum number of trees
                    site0=site;
                if(load[site]==load[site0] &amp;&amp; tracks[site]&lt;tracks[site0]) // for equal loadings, best candidate is the one with a minimum distance to join an existing track
                    site0=site;
            }   

            /*Seeking for the closest track*/
            row0 = floor(site0/cols);
            col0 = site0-(row0*cols);
            d0 = rows*rows+cols*cols;
            for(site=0;site&lt;sites;site++){
                if(Tlogging[1][site]==1){ // if it&#39;s a track compute distance to the track
                    rowT = floor(site/cols);
                    colT = site-(rowT*cols);
                    d = (row0 - rowT)*(row0 - rowT) + (col0 - colT)*(col0 - colT);
                    if(d&lt;d0){ // if the track is closer than the previously saved one, keep the location
                        siteT=site;
                        d0=d;
                    }
                }
            }

            /*Trace the secondary track*/
            rowT = floor(siteT/cols);
            colT = siteT-(rowT*cols);
            do{
                do {
                    for(int i=-2;i&lt;=2;i++){ 
                        for(int j=-2;j&lt;=2;j++){
                            site = (col0+i)+(row0+j)*cols;
                            if(site&gt;=0 &amp;&amp; site&lt;sites) Tlogging[1][site]=1; //flag the track with a size of 4 meters
                        }
                    }
                    for(site=0;site&lt;sites;site++){ 
                        if(Tlogging[0][site]==1){
                            row = floor(site/cols);
                            col = site-(row*cols);
                            d = (row - row0)*(row - row0) + (col - col0)*(col - col0);
                            if(d &lt;= (33*33)){ //unflag served trees in a radius of 30 meters
                                Tlogging[0][site]=0;
                                felt--;
                            }
                        }
                    }
                    if(col0 &gt; colT) col0--; //move in direction of the closest existing track
                    if(col0 &lt; colT) col0++;
                    if(row0 &gt; rowT) row0--;
                    if(row0 &lt; rowT) row0++;
                } while(row0 != rowT); //stop when we reach the closest existing track
            } while(col0 != colT);
            cout &lt;&lt; &quot;A secondary track have been traced, &quot; &lt;&lt; felt &lt;&lt; &quot; trees still need to be evacuated.&quot; &lt;&lt; endl; //!LONG! computation, console output to follow advancement
        }

        /* Removing trees on secondary tracks */
        for(site=0;site&lt;sites;site++){ 
            if(Tlogging[1][site] == 1 &amp;&amp; T[site].t_age != 0){
                row = (site/cols);
                col = site-(row*cols);
                volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
                output[36] &lt;&lt; &quot;ST&quot; &lt;&lt; &quot;\t&quot; &lt;&lt; col &lt;&lt; &quot;\t&quot; &lt;&lt; row &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_age &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_dbh &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Tree_Height &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Radius &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_Crown_Depth &lt;&lt; &quot;\t&quot; &lt;&lt; T[site].t_sp_lab &lt;&lt; endl;
                T[site].Death();
                individuals ++;
            }
        }
    cout &lt;&lt; individuals &lt;&lt; &quot; trees have been killed for secondary tracks representing &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
}</code></pre>
<p>Code 8: Secondary tracks module.</p>
</div>
</div>
<div id="other-damages" class="section level2">
<h2><span class="header-section-number">D.4</span> Other damages</h2>
<div id="reality-7" class="section level3">
<h3><span class="header-section-number">D.4.1</span> Reality</h3>
<p>The Office Nationale des Forêts is realizing diagnostic of disturbance from harvesting (DPE). The question of increased mortality is also studied with GUYAFOR and TmFO plots. First results suggests that the time for the ecosystem to come back to its original death rate depend on the original death rate intensity. But this time seems lower thant the 10 years often used in simulations <span class="citation">(Huth <em>et al.</em> <a href="#ref-Huth2004">2004</a>; Köhler &amp; Huth <a href="#ref-Khler2004">2004</a>; Rüger <em>et al.</em> <a href="#ref-Ruger2008">2008</a>)</span>. Last thing increased mortality seems localised around harvested areas (but even for not directly hurted trees).</p>
</div>
<div id="modelling" class="section level3">
<h3><span class="header-section-number">D.4.2</span> Modelling</h3>
<p>We gathered data from Paracou dataset in cenususes between 1988 and 1992 on Paracou harvested plots. Individuals were categorized between alive, dead, or recruited during the period. Individuals categorized as damaged tree (17), poisoned tree alive (19), death during logging standing (1), logged tree (4), poisoned tree (9), recruited alive or recruited and dead were removed from the dataset. Dead trees still in the dataset were then categorized in natural death standing (0), primary windfall (6), and secondary windfall (7). We adapted the model from <strong>Cite Herault</strong> based on a disturbance index into: <span class="math display">\[Death_i \sim \mathcal{B}(P(Death_i))\]</span> <span class="math display">\[with ~~ P(Death_i) = logit^{-1}(\theta + \beta*e^{\alpha*d_{gaps}}) = \frac{e^{\theta + \beta*e^{\alpha*d_{gaps}}}}{1 + e^{\theta + \beta*e^{\alpha*d_{gaps}}}}\]</span> <span class="math inline">\(Death\)</span> of a tree <span class="math inline">\(i\)</span> follows a <span class="math inline">\(\mathcal{Bernoulli}\)</span> law of probability <span class="math inline">\(P(Death_i)\)</span>. The odds for a tree <span class="math inline">\(i\)</span> to die <span class="math inline">\(O(Death_i)\)</span> is calculated by the sum of the natural tree death odd <span class="math inline">\(\theta\)</span> and a perturbation index <span class="math inline">\(\beta*e^{\alpha*d_{gaps}}\)</span>. The perturbation index depend on the distance <span class="math inline">\(d_{gaps}\)</span> of the tree <span class="math inline">\(i\)</span> to the closest logging gap. The probability for a tree <span class="math inline">\(i\)</span> to die <span class="math inline">\(P(Death_i)\)</span> is finally calculated by taking the inverse logit of the odd <span class="math inline">\(logit^{-1}[O(Death_i)]\)</span>.</p>
<p>We need now to transfer this allometry into TROLL to simulate disturbed trees that will die because of the selective logging gaps. A tree will die and fall if he randomly get under the probability to die because of the logging gap: <span class="math display">\[P(Death_i) &lt; rand ~~with~~ rand \in [0,1]\]</span> But the probabilty to be dead <span class="math inline">\(P(Death_i)\)</span> for a tree <span class="math inline">\(i\)</span> encompass both the probability to die due to the logging and the natural death rate. So we need to remove the natural death rate to this probability (<span class="math inline">\(P(Death_i) - DeathRate_i\)</span>). On the other hand, in the current implementation of TROLL a tree dies and falls because he has been injured. This process is simulated by the variable <span class="math inline">\(hurt\)</span>. The probability to die follows formula: <span class="math display">\[Height &lt; 2*hurt*rand ~~with~~ rand \in [0,1]\]</span> So we can increase the variable <span class="math inline">\(hurt\)</span> to increase probability to die for trees close to logging gaps with: <span class="math display">\[P(Death_i) - DeathRate_i = \frac{Height}{2*hurt}\]</span> <span class="math display">\[hurt = \frac{Height}{2*P(Death_i) - DeathRate_i}=\frac{Height}{2*(logit^{-1}(\theta + \beta*e^{\alpha*d_{gaps}}) - DeathRate_i)}\]</span> <span class="math display">\[hurt = \frac{Height}{2*[logit^{-1}(-4.441 + 0.762*e^{0.064*d_{gaps}}) - Species::DeathRate]}\]</span></p>
<p>Because the increased mortality due to gaps model was built on data for the 4 years after the logging, gaps damages are implemented in a submodule that get activated one year after the logging. It takes in account only trees that died hurted by tree felling.</p>
<pre class="rcpp"><code>void GapDamages() {

    cout &lt;&lt; &quot;###   Selective Logging Long Term Damages   ###&quot; &lt;&lt; endl;
    int site, row, col, siteG, rowG, colG;
    float deathrate, gaps_deathrate, gaps_hurt, d, dgaps[sites];

    /*Initialise dgaps to maximum distance to a gaps (null effect)*/
    for(site=0;site&lt;sites;site++) dgaps[site] = rows*rows + cols*cols;

    /*Compute for each tree the distance to the closest gap*/
    for(siteG=0;siteG&lt;sites;siteG++){
        if(Tlogging[2][siteG] == 1){
            if(T[siteG].t_age &gt; 1){ // New trees could have been recruited over a year
                rowG = floor(siteG/cols);
                colG = siteG-(rowG*cols);
                for(site=0;site&lt;sites;site++){
                    row = floor(site/cols);
                    col = site-(row*cols);
                    d = (row - rowG)*(row - rowG) + (col - colG)*(col - colG);
                    if(d &lt; dgaps[site]) dgaps[site] = d;
                }
            }
        }
    }

    /*Hurt trees depending on their distance to a gaps following an allometry fitted with Paracou data*/
    for(site=0;site&lt;sites;site++){
        if(T[site].t_age != 0 &amp;&amp; T[site].t_dbh &gt; 0.1){ //tree with dbh&lt;10 have not an increased mortality closed to gaps, on the contrary they&#39;ll have a tendency 
            gaps_deathrate = -4.441 + 0.762*exp(0.064*sqrt(dgaps[site]));
            gaps_deathrate = exp(gaps_deathrate) / (1 + exp(gaps_deathrate)); // Allometry representing gaps damages
            deathrate = T[site].t_s-&gt;DeathRate(T[site].t_PPFD, T[site].t_dbh, T[site].t_NPPneg);
            if(gaps_deathrate &gt; deathrate){
                gaps_hurt = T[site].t_Tree_Height/(2*(gaps_deathrate - deathrate));
                T[site].t_hurt += gaps_hurt;
            }
        }
    }        
}</code></pre>
<p>Code 9: Gap damages module.</p>
</div>
</div>
<div id="perspectives" class="section level2">
<h2><span class="header-section-number">D.5</span> Perspectives</h2>
<p>Current slective logging in french guiana encompass different perspective to evolve. Some are summarized here:</p>
<ul>
<li>Diversification: harvesting more species (harvesters select species with higher economical interest) to reach 25 <span class="math inline">\(m^3.ha^{-1}\)</span></li>
<li>Oriented treefall: see section about logging</li>
<li>Logs length for skidding: see section about roads and skidding</li>
<li>Thinning: remove trees to increase growth grom trees of interest</li>
<li>Decreasing the maximum distance of skid trail from felled trees from 30 to 20 m, which will result in an increase in the skid trails network, in the fuelwood harvest and a decrease of the skidding costs</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Huth2004">
<p>Huth, A., Drechsler, M. &amp; Köhler, P. (2004). Multicriteria evaluation of simulated logging scenarios in a tropical rain forest. <em>Journal of Environmental Management</em>, <strong>71</strong>, 321–333.</p>
</div>
<div id="ref-Khler2004">
<p>Köhler, P. &amp; Huth, A. (2004). Simulating growth dynamics in a South-East Asian rainforest threatened by recruitment shortage and tree harvesting. <em>Climatic Change</em>, <strong>67</strong>, 95–117.</p>
</div>
<div id="ref-Ruger2008">
<p>Rüger, N., Williams-Linera, G., Kissling, W.D. &amp; Huth, A. (2008). Long-Term Impacts of Fuelwood Extraction on a Tropical Montane Cloud Forest. <em>Ecosystems</em>, <strong>11</strong>, 868–881.</p>
</div>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://master-thesis-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="trees-choice.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/sylvainschmitt/master-thesis/blob/master/08-Appendix2.Rmd",
"text": "Edit"
},
"download": ["master-thesis.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
