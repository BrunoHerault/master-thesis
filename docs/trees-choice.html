<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Master thesis</title>
  <meta name="description" content="Master thesis">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Master thesis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/main.png" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Master thesis" />
  
  
  <meta name="twitter:image" content="images/main.png" />

<meta name="author" content="Sylvain SCHMITT">


<meta name="date" content="2017-06-02">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="appendix-2.html">
<link rel="next" href="harvesting.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="html/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Master thesis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="resume-et-abstract.html"><a href="resume-et-abstract.html"><i class="fa fa-check"></i>Résumé et Abstract</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="model-description.html"><a href="model-description.html"><i class="fa fa-check"></i><b>1</b> Model description</a><ul>
<li class="chapter" data-level="1.1" data-path="model-description.html"><a href="model-description.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="model-description.html"><a href="model-description.html#leaf-lifespan"><i class="fa fa-check"></i><b>1.2</b> Leaf lifespan</a></li>
<li class="chapter" data-level="1.3" data-path="model-description.html"><a href="model-description.html#disturbance"><i class="fa fa-check"></i><b>1.3</b> Disturbance</a></li>
<li class="chapter" data-level="1.4" data-path="model-description.html"><a href="model-description.html#sylviculture"><i class="fa fa-check"></i><b>1.4</b> Sylviculture</a><ul>
<li class="chapter" data-level="1.4.1" data-path="model-description.html"><a href="model-description.html#designation"><i class="fa fa-check"></i><b>1.4.1</b> Designation</a></li>
<li class="chapter" data-level="1.4.2" data-path="model-description.html"><a href="model-description.html#selection"><i class="fa fa-check"></i><b>1.4.2</b> Selection</a></li>
<li class="chapter" data-level="1.4.3" data-path="model-description.html"><a href="model-description.html#rotten-trees"><i class="fa fa-check"></i><b>1.4.3</b> Rotten trees</a></li>
<li class="chapter" data-level="1.4.4" data-path="model-description.html"><a href="model-description.html#felling"><i class="fa fa-check"></i><b>1.4.4</b> Felling</a></li>
<li class="chapter" data-level="1.4.5" data-path="model-description.html"><a href="model-description.html#tracks"><i class="fa fa-check"></i><b>1.4.5</b> Tracks</a></li>
<li class="chapter" data-level="1.4.6" data-path="model-description.html"><a href="model-description.html#gap-damages"><i class="fa fa-check"></i><b>1.4.6</b> Gap damages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="material-and-methods.html"><a href="material-and-methods.html"><i class="fa fa-check"></i><b>2</b> Material and Methods</a><ul>
<li class="chapter" data-level="2.1" data-path="material-and-methods.html"><a href="material-and-methods.html#sensitivity-analysis"><i class="fa fa-check"></i><b>2.1</b> Sensitivity analysis</a></li>
<li class="chapter" data-level="2.2" data-path="material-and-methods.html"><a href="material-and-methods.html#disturbance-1"><i class="fa fa-check"></i><b>2.2</b> Disturbance</a></li>
<li class="chapter" data-level="2.3" data-path="material-and-methods.html"><a href="material-and-methods.html#selective-logging"><i class="fa fa-check"></i><b>2.3</b> Selective logging</a></li>
<li class="chapter" data-level="2.4" data-path="material-and-methods.html"><a href="material-and-methods.html#design-of-experiment"><i class="fa fa-check"></i><b>2.4</b> Design of experiment</a></li>
<li class="chapter" data-level="2.5" data-path="material-and-methods.html"><a href="material-and-methods.html#ecosystem-answer-anlaysis"><i class="fa fa-check"></i><b>2.5</b> Ecosystem answer anlaysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>3</b> Results</a><ul>
<li class="chapter" data-level="3.1" data-path="results.html"><a href="results.html#sensitivity"><i class="fa fa-check"></i><b>3.1</b> Sensitivity</a></li>
<li class="chapter" data-level="3.2" data-path="results.html"><a href="results.html#disturbance-2"><i class="fa fa-check"></i><b>3.2</b> Disturbance</a></li>
<li class="chapter" data-level="3.3" data-path="results.html"><a href="results.html#sylviculture-1"><i class="fa fa-check"></i><b>3.3</b> Sylviculture</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>4</b> Discussion</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-1.html"><a href="appendix-1.html"><i class="fa fa-check"></i><b>A</b> Appendix 1</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-1.html"><a href="appendix-1.html#abiotic-environment"><i class="fa fa-check"></i><b>A.1</b> Abiotic environment</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-1.html"><a href="appendix-1.html#photosynthesis"><i class="fa fa-check"></i><b>A.2</b> Photosynthesis</a><ul>
<li class="chapter" data-level="A.2.1" data-path="appendix-1.html"><a href="appendix-1.html#theory"><i class="fa fa-check"></i><b>A.2.1</b> Theory</a></li>
<li class="chapter" data-level="A.2.2" data-path="appendix-1.html"><a href="appendix-1.html#parametrization"><i class="fa fa-check"></i><b>A.2.2</b> Parametrization</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="appendix-1.html"><a href="appendix-1.html#autotrophic-respiration"><i class="fa fa-check"></i><b>A.3</b> Autotrophic respiration</a></li>
<li class="chapter" data-level="A.4" data-path="appendix-1.html"><a href="appendix-1.html#net-carbon-uptake"><i class="fa fa-check"></i><b>A.4</b> Net carbon uptake</a></li>
<li class="chapter" data-level="A.5" data-path="appendix-1.html"><a href="appendix-1.html#leaf-lifespan-1"><i class="fa fa-check"></i><b>A.5</b> Leaf lifespan</a></li>
<li class="chapter" data-level="A.6" data-path="appendix-1.html"><a href="appendix-1.html#tree-growth"><i class="fa fa-check"></i><b>A.6</b> Tree growth</a></li>
<li class="chapter" data-level="A.7" data-path="appendix-1.html"><a href="appendix-1.html#mortality"><i class="fa fa-check"></i><b>A.7</b> Mortality</a></li>
<li class="chapter" data-level="A.8" data-path="appendix-1.html"><a href="appendix-1.html#recruitment"><i class="fa fa-check"></i><b>A.8</b> Recruitment</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-2.html"><a href="appendix-2.html"><i class="fa fa-check"></i><b>B</b> Appendix 2</a></li>
<li class="chapter" data-level="C" data-path="trees-choice.html"><a href="trees-choice.html"><i class="fa fa-check"></i><b>C</b> Trees choice</a><ul>
<li class="chapter" data-level="C.1" data-path="trees-choice.html"><a href="trees-choice.html#harvestable-areas"><i class="fa fa-check"></i><b>C.1</b> Harvestable areas</a><ul>
<li class="chapter" data-level="C.1.1" data-path="trees-choice.html"><a href="trees-choice.html#reality"><i class="fa fa-check"></i><b>C.1.1</b> Reality</a></li>
<li class="chapter" data-level="C.1.2" data-path="trees-choice.html"><a href="trees-choice.html#model"><i class="fa fa-check"></i><b>C.1.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="trees-choice.html"><a href="trees-choice.html#designation-1"><i class="fa fa-check"></i><b>C.2</b> Designation</a><ul>
<li class="chapter" data-level="C.2.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-1"><i class="fa fa-check"></i><b>C.2.1</b> Reality</a></li>
<li class="chapter" data-level="C.2.2" data-path="trees-choice.html"><a href="trees-choice.html#model-1"><i class="fa fa-check"></i><b>C.2.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="trees-choice.html"><a href="trees-choice.html#selection-1"><i class="fa fa-check"></i><b>C.3</b> Selection</a><ul>
<li class="chapter" data-level="C.3.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-2"><i class="fa fa-check"></i><b>C.3.1</b> Reality</a></li>
<li class="chapter" data-level="C.3.2" data-path="trees-choice.html"><a href="trees-choice.html#model-2"><i class="fa fa-check"></i><b>C.3.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="trees-choice.html"><a href="trees-choice.html#rotten"><i class="fa fa-check"></i><b>C.4</b> Rotten</a><ul>
<li class="chapter" data-level="C.4.1" data-path="trees-choice.html"><a href="trees-choice.html#reality-3"><i class="fa fa-check"></i><b>C.4.1</b> Reality</a></li>
<li class="chapter" data-level="C.4.2" data-path="trees-choice.html"><a href="trees-choice.html#model-3"><i class="fa fa-check"></i><b>C.4.2</b> Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="harvesting.html"><a href="harvesting.html"><i class="fa fa-check"></i><b>D</b> Harvesting</a><ul>
<li class="chapter" data-level="D.1" data-path="harvesting.html"><a href="harvesting.html#felling-1"><i class="fa fa-check"></i><b>D.1</b> Felling</a><ul>
<li class="chapter" data-level="D.1.1" data-path="harvesting.html"><a href="harvesting.html#reality-4"><i class="fa fa-check"></i><b>D.1.1</b> Reality</a></li>
<li class="chapter" data-level="D.1.2" data-path="harvesting.html"><a href="harvesting.html#model-4"><i class="fa fa-check"></i><b>D.1.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="harvesting.html"><a href="harvesting.html#main-track"><i class="fa fa-check"></i><b>D.2</b> Main track</a><ul>
<li class="chapter" data-level="D.2.1" data-path="harvesting.html"><a href="harvesting.html#reality-5"><i class="fa fa-check"></i><b>D.2.1</b> Reality</a></li>
<li class="chapter" data-level="D.2.2" data-path="harvesting.html"><a href="harvesting.html#model-5"><i class="fa fa-check"></i><b>D.2.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="harvesting.html"><a href="harvesting.html#secondary-tracks-cloisonnement"><i class="fa fa-check"></i><b>D.3</b> Secondary tracks (cloisonnement)</a><ul>
<li class="chapter" data-level="D.3.1" data-path="harvesting.html"><a href="harvesting.html#reality-6"><i class="fa fa-check"></i><b>D.3.1</b> Reality</a></li>
<li class="chapter" data-level="D.3.2" data-path="harvesting.html"><a href="harvesting.html#model-6"><i class="fa fa-check"></i><b>D.3.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="harvesting.html"><a href="harvesting.html#other-damages"><i class="fa fa-check"></i><b>D.4</b> Other damages</a><ul>
<li class="chapter" data-level="D.4.1" data-path="harvesting.html"><a href="harvesting.html#reality-7"><i class="fa fa-check"></i><b>D.4.1</b> Reality</a></li>
<li class="chapter" data-level="D.4.2" data-path="harvesting.html"><a href="harvesting.html#modelling"><i class="fa fa-check"></i><b>D.4.2</b> Modelling</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="harvesting.html"><a href="harvesting.html#perspectives"><i class="fa fa-check"></i><b>D.5</b> Perspectives</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/sylvainschmitt/master-thesis" target="blank">work in progress</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Master thesis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="trees-choice" class="section level1">
<h1><span class="header-section-number">C</span> Trees choice</h1>
<p>Before logging we first need to designate and select trees which will be harvested inside simulations.</p>
<div id="harvestable-areas" class="section level2">
<h2><span class="header-section-number">C.1</span> Harvestable areas</h2>
<div id="reality" class="section level3">
<h3><span class="header-section-number">C.1.1</span> Reality</h3>
<p>First, havrestable areas are defined out of lowland areas and in the remainder by keeping all areas with a slope lower than 22 percent. A buffer of 30 meters is added to all harvestable areas representing engine capacity to extract wood with cables. Note that hazards like climate (dry or drought) can reduce or increase capacity of engine to explore a given area. In case of need bulldozer can be used to go in steeper slopes and grading can be realized to join harvestable areas.</p>
</div>
<div id="model" class="section level3">
<h3><span class="header-section-number">C.1.2</span> Model</h3>
<p>One major limit of current implementation of TROLL model is that it assumes a flat environment. Consequently the whole simulated area inside TROLL can be considered has an harvestable zone. It conequently simplifies this first part but we need to keep in mind this major assumption in subsequent analysis.</p>
</div>
</div>
<div id="designation-1" class="section level2">
<h2><span class="header-section-number">C.2</span> Designation</h2>
<div id="reality-1" class="section level3">
<h3><span class="header-section-number">C.2.1</span> Reality</h3>
<p>Trees are then designated directly in the field in three categories: reserve trees for individuals with an ecological interest, future trees for individuals which can be harvested in the next cycles, and harvestable trees which will be sold for harvesting in current cycle. Harvestable trees are designated according to their species and maximum and minimum harvestable diameter associated to the species (detailed available in sylviculture guide). Total basal area of designated trees is then computed and aims 25 <span class="math inline">\(m^3.ha^{-1}\)</span> to be harvested. But because 20-30 percent of designated trees are considered as rotten once probed by the lumberman, total harvestable volume aims 30 <span class="math inline">\(m^3.ha^{-1}\)</span>. Finally it happens that there is more or less than 30 <span class="math inline">\(m^3.ha^{-1}\)</span> of designated trees. If there is fewer it will be sold in this state, if there is more the minimum harvestable diameter is increased. The global idea is to gain maximum profit without exceding 25% of aboveground biomass (AGB) disturbance. Last but not least, this direct designation on the field before harvesting does not seems to result in aggregated extraction.</p>
</div>
<div id="model-1" class="section level3">
<h3><span class="header-section-number">C.2.2</span> Model</h3>
<p>The harvestable area is the whole simulated forest. We needed to integrate an external file with all harvestable species precising their minimum and maximum harvestable diameter (following the sylviculture guide). We added to this sylviculture parameter file all parameters related to sylviculture or disturbance module (see code 1).</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">##########################################################  </span>
<span class="co">###  Sylviculture parameter file for the TROLL program ###  </span>
<span class="co">##########################################################</span>
<span class="co">### GENERAL PARAMETERS</span>
<span class="kw">1</span>   /* disturb_iter <span class="co"># iteration step where the disturbation occure */</span>
<span class="co">### disturbance</span>
<span class="kw">0.4</span> /* disturb_intensity <span class="co"># intensity of disturbance in percent of BA */</span>
<span class="co">### logging</span>
<span class="kw">30</span>  /* designated_volume <span class="co"># volume designated for harvesting in m3/ha */</span>
<span class="kw">25</span>  /* harvested_volume <span class="co"># volume harvested in m3/ha */</span>
<span class="kw">25</span>  /* numespharvestable <span class="co"># number of harvestable species */ </span>

<span class="co">### Species</span>
<span class="kw">****</span>    spnum   dbhmin  dbhmax  interest
<span class="kw">Brosimum_guianense</span>  7   0.55    2.0 1
<span class="kw">Brosimum_rubescens</span>  8   0.55    2.0 1
<span class="kw">Caryocar_glabrum</span>    12  0.55    2.0 1
<span class="kw">Dicorynia_guianensis</span>    35  0.55    2.0 1
<span class="kw">Goupia_glabra</span>   53  0.55    2.0 1
<span class="kw">Manilkara_bidentata</span> 81  0.55    2.0 1
<span class="kw">Manilkara_huberi</span>    82  0.55    2.0 1
<span class="kw">Ocotea_argyrophylla</span> 94  0.55    2.0 1
<span class="kw">Qualea_rosea</span>    130 0.55    2.0 1
<span class="kw">Ruizterania_albiflora</span>   134 0.55    2.0 1
<span class="kw">Vouacapoua_americana</span>    161 0.55    0.70    1
<span class="kw">Couma_guianensis</span>    29  0.55    2.0 2
<span class="kw">Eperua_grandiflora</span>  42  0.55    2.0 2
<span class="kw">Lecythis_zabucajo</span>   71  0.55    2.0 2
<span class="kw">Moronobea_coccinea</span>  90  0.55    2.0 2
<span class="kw">Rhodostemonodaphne_grandis</span>  133 0.55    2.0 2
<span class="kw">Sterculia_pruriens</span>  140 0.55    2.0 2
<span class="kw">Sterculia_speciosa</span>  141 0.55    2.0 2
<span class="kw">Sterculia_villifera</span> 142 0.55    2.0 2
<span class="kw">Virola_michelii</span> 159 0.55    2.0 2
<span class="kw">Vochysia_guianensis</span> 160 0.55    2.0 2
<span class="kw">Bocoa_prouacensis</span>   6   0.55    2.0 3
<span class="kw">Couratari_multiflora</span>    30  0.55    2.0 3
<span class="kw">Eperua_falcata</span>  41  0.55    2.0 3
<span class="kw">Eperua_rubiginosa</span>   43  0.55    2.0 3</code></pre></div>
<p>Code 1: Example of Sylviculture parameter file for the TROLL program.</p>
<p>Following those data the model can calculate the total harvestable volume <span class="math inline">\({V_h}_{tot}\)</span> and retains all trees id as <strong>can be designated</strong>. If <span class="math inline">\({V_h}_{tot} &lt; 30*n_{ha}\)</span>, then all <strong>can be designated</strong> tree are considered as <strong>designated</strong>. If <span class="math inline">\({V_h}_{tot} &gt; 30*n_{ha}\)</span>, then minimum harvestable diameter <span class="math inline">\(dbh_{min}\)</span> is increased untill <span class="math inline">\({V_h}_{tot} &lt; 30*n_{ha}\)</span>, and finally all <strong>can be designated</strong> tree are considered as <strong>designated</strong> (see code 2).</p>
<pre class="rcpp"><code>void Designate() {

    int site, col, row, sp, sph=0, designated;
    float volume, dbh_min[numespharvestable], min_dbh_min, max_dbh_max=0.0;

    /* getting species vector of minimum harvestable diameter */
    for(sp=1;sp&lt;=numesp;sp++)
        if(S[sp].s_harvestable){
            dbh_min[sph]=S[sp].s_dbhmin; 
            sph++;
            if(S[sp].s_dbhmax &gt; max_dbh_max)
                max_dbh_max = S[sp].s_dbhmax;
        }

    /* getting minimum value of minimum harvestable diameter among species*/
    min_dbh_min = dbh_min[0];
    for(sph=1;sph&lt;numespharvestable;sph++)
        if(dbh_min[sph] &lt; min_dbh_min)
            min_dbh_min = dbh_min[sph];

    /* designating tree, increasing minimum harvestable dbh if needed to br under the objective */
    for(min_dbh_min; min_dbh_min &lt; max_dbh_max; min_dbh_min += 0.1){
        volume=0.0;
        designated=0;
        for(site=0;site&lt;sites;site++){
            if(T[site].t_age &gt; 0                                        /*alive tree*/
                &amp;&amp; S[T[site].t_sp_lab].s_harvestable                    /*harvestable species*/
                &amp;&amp; T[site].t_dbh &gt;= S[T[site].t_sp_lab].s_dbhmin        /*reached minimum dbh*/
                &amp;&amp; T[site].t_dbh &lt;= S[T[site].t_sp_lab].s_dbhmax){      /*under maximum dbh*/
                Tlogging[0][site] = 1;
                volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
                designated++;
            }
        }
        if(volume &lt; designated_volume)
            break;                                                      /*if the volume is under the objective we can stop */
        else
            for(sp=1;sp&lt;=numesp;sp++)
                if(S[sp].s_harvestable)
                    S[sp].s_dbhmin += 0.01;                             /*if the volume is greater than the objective we need to derease minimum harvestable diameter for all species */
    }

    cout &lt;&lt; designated &lt;&lt; &quot; trees have been designated, representing &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;dbh min is now &quot; &lt;&lt; min_dbh_min &lt;&lt; endl;
}</code></pre>
<p>Code 2: Designation module.</p>
</div>
</div>
<div id="selection-1" class="section level2">
<h2><span class="header-section-number">C.3</span> Selection</h2>
<div id="reality-2" class="section level3">
<h3><span class="header-section-number">C.3.1</span> Reality</h3>
<p>Because the harvesters are focusing on few species with easier marketable wood for the moment (Angélique, Gonfolo, Grignon franc, Balata and few rares), about only 20 <span class="math inline">\(m^3.ha^{-1}\)</span> are harvested, and sometimes less, especially in the West forests of French Guiana. In addition to that, few rules are added for some species when designating trees (e.g. protecting no more than one Angélique and Gonfolo every 100 meters for seeding and only one Bagasse for two).</p>
</div>
<div id="model-2" class="section level3">
<h3><span class="header-section-number">C.3.2</span> Model</h3>
<p>Thereafter we need to split <strong>designated</strong> trees between <strong>selected</strong> and <strong>designated but not selected</strong>. <strong>Designated</strong> trees kept by the harvester are linked to an additional data representing the species interest in external file (see code 1). Each harvestable species is ranked on its economic value. Then the model will kept only 25 <span class="math inline">\(m^3.ha^{-1}\)</span> inside designated trees by keeping only higher rank species.</p>
<pre class="rcpp"><code>void Select() {
    
    int site, sp, i, rank, rankmax=0, unselected=0;
    float volume=0.0;

    /* Calculating designated volume */
    for(site=0;site&lt;sites;site++) 
        if(Tlogging[0][site] == 1)
            volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
    
    if(volume &lt;= harvested_volume)
        cout &lt;&lt; &quot;All designated trees will be harvested.&quot; &lt;&lt; endl;

    if(volume &gt; harvested_volume){

        /* determining maximal interest rank (leat valuable species) */
        for(sp=1;sp&lt;=numesp;sp++)
            if(S[sp].s_interest &gt; rankmax)
                rankmax = S[sp].s_interest; 

        /* determining determining headcount for each rank */
        int rank_nb[rankmax];
        for(rank=0;rank&lt;rankmax;rank++) rank_nb[rank]=0;
        for(site=0;site&lt;sites;site++)
            if(S[sp].s_harvestable)
                rank_nb[S[T[site].t_sp_lab].s_interest]++;

        /* removing tree untill wanted volume is reached starting by highest rank */
        for(rank=rankmax-1;rank&gt;=0;rank--){
            while(rank_nb[rank]&gt;0){
                site=floor(genrand2()*sites);
                if(Tlogging[0][site]==1 &amp;&amp; S[T[site].t_sp_lab].s_interest==rank){
                    Tlogging[0][site]=0;
                    rank_nb[rank]--;
                    unselected++;
                    volume -= -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
                    if(volume &lt;= harvested_volume) break;
                }
            }
            if(volume &lt;= harvested_volume) break;
        }

        cout &lt;&lt; unselected &lt;&lt; &quot; trees have been unselected, volume is now of &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
    }
}</code></pre>
<p>Code 3: Selection module.</p>
</div>
</div>
<div id="rotten" class="section level2">
<h2><span class="header-section-number">C.4</span> Rotten</h2>
<div id="reality-3" class="section level3">
<h3><span class="header-section-number">C.4.1</span> Reality</h3>
<p>20-30 percent of designated trees are considered as rotten once probed by the lumberman.</p>
<p><em>NB: In fact only 50 percent of designated trees considered as rotten once probed by the lumber would be really entirely rotten. 50% of theim would be vital on 90% of the volume. Moreover if fuelwood economy is developped rotten tree could be used and the risk to cut a rotten tree could be taken (especially if 50% of theim are actually harvestable). But this fact only represent a perspective for the moment.</em></p>
</div>
<div id="model-3" class="section level3">
<h3><span class="header-section-number">C.4.2</span> Model</h3>
<p>Actually rotten trees are not random. We used rotten inventories from ONF to realize a model predictiong rotten trees volume from their species and diameter. First we seeked a model M to predict tree probability to be probed as rotten. Secondly we seeked a model N to predict final volume of wood in tree probed as rotten. Finally we implemented the model M: <span class="math display">\[P_{rotten} = inv_{logit}(-5.151 + 0.042*dbh_{(cm)})\]</span> inside the <code>SelectiveLogging</code> module of TROLL model.</p>
<pre class="rcpp"><code>void Rot() {

    int site, rotten=0;
    float protten, volume=0.0;

    /* Calculating selected volume */
    for(site=0;site&lt;sites;site++) 
        if(Tlogging[0][site] == 1)
            volume += -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/

    /* evaluates each tree probability to be rotten, and remove it if randomly in the risk to be rotten*/
    for(site=0;site&lt;sites;site++){
        if(Tlogging[0][site]==1){
            protten = 1 / (1 + exp(-(-5.151 + 0.042*T[site].t_dbh*100))); /*Probability to be rotten*/
            if(genrand2() &lt; protten){
                Tlogging[0][site]=0;
                rotten++;
                volume -= -0.0358 + 8.7634*T[site].t_dbh*T[site].t_dbh; /*volume by ONF-2011 in French Guiana - Center (Kourou)*/
            }
        }
       } 
    cout &lt;&lt; rotten &lt;&lt; &quot; trees are rotten, volume is now of &quot; &lt;&lt; volume &lt;&lt; &quot; m3.&quot; &lt;&lt; endl;
}</code></pre>
<p>Code 4: Rotten module.</p>
</div>
</div>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://master-thesis-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="appendix-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="harvesting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/sylvainschmitt/master-thesis/blob/master/08-Appendix2.Rmd",
"text": "Edit"
},
"download": ["master-thesis.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
